api-version: reviewpad.com/v3.x

mode: silent

rules:
  - name: is-small
    kind: patch
    spec: $size() <= 50

  - name: is-medium
    kind: patch
    spec: $size() > 50 && $size() <= 150

  - name: is-large
    kind: patch
    spec: $size() > 150

workflows:
  - name: label-pull-request-with-size
    always-run: true
    if:
      - rule: is-small
        extra-actions:
          - $addLabel("small")
          - $info("this is an info message")
          - $warn("this is a warning message")
          - $error("this is an error message")
      - rule: is-medium
        extra-actions:
          - $addLabel("medium")
      - rule: is-large
        extra-actions:
          - $addLabel("large")

  - name: has-annotation
    if: 
      - '$hasAnnotation("critical")'
    then:
      - $info("this is a critical message")